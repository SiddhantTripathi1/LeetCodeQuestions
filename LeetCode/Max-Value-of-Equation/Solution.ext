from sortedcontainers import SortedList
class Solution:
    def findMaxValueOfEquation(self, points: List[List[int]], k: int) -> int:
        sl = SortedList()
        pl = 0; res = -10**10
        for pr in range(len(points)):
            while points[pr][0]-points[pl][0]>k:
                sl.remove(-points[pl][0]+points[pl][1])
                pl += 1
            if sl: res = max(res, points[pr][0]+points[pr][1]+sl[-1])
            sl.add(-points[pr][0]+points[pr][1])
        return res